{% extends './base.html.twig' %} 

{% block title %}
    Posts Page
{% endblock %}

{% block head %}
  
{% endblock %}


{% block body %}

    <h1></h1>
 {% if app.user %}
        <p uk-margin class="uk-text-center">
          
            <a class="uk-button uk-button-primary uk-button-large" href={{path('create_post')}}>Add new post</a>
        </p>
 {% endif %}

 
        <h2 class="uk-text-center ">Blog Posts</h2>
       
        {% if pagination.items|length > 0 %}
         <div class="uk-container">
            <div class="uk-grid-small uk-child-width-1-3@m uk-child-width-1-2@s uk-grid-match uk-flex-center" uk-grid> 
                {% for post in pagination.items %}
                    <div >
                        <article class="uk-article uk-card uk-card-default uk-card-body">
                                <h3 class="uk-card-title">{{ post.title }}</h3>
                                <p>{{ post.description }}</p>
                                <a href="{{ path('show_post', {'slug': post.slug}) }}" class="uk-button uk-button-text">Read more</a>
                        </article>      
                    </div>
                {% endfor %}
              
            </div> 
        </div>
           
               
   <div class="uk-margin-large-top uk-text-center">
    {{ knp_pagination_render(pagination) }}
   </div>
    
        {% else %}
             <p class="uk-alert-warning" uk-alert>No posts found.</p>
        {% endif %}
  
     
{% endblock %}